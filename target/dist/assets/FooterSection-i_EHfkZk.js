const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OrganisationChooserLight-B2aUfIaP.js","assets/index.js","assets/index.css","assets/OrganisationChooserLight-DlmWc1FW.css"])))=>i.map(i=>d[i]);
import{d as b,_,o as a,c as i,L as S,M as A,m as l,u,a as g,D as P,s as L,n as h,N as w,p as q,q as N,v as E,r,f as o,F,b as R,e as d,w as M,h as m,t as p,g as f,i as I}from"./index.js";import D from"./ClassicSelect-DwrbPu6f.js";const U=b({name:"AcpmImage"}),V="/img/ACPM.webp",B=["title","alt"];function G(e,t,n,C,$,v){return a(),i("img",{width:"44",height:"44",class:"acpm_image",src:V,title:e.$t("Octopus is ACPM Podcast accredited"),alt:e.$t("Octopus is ACPM Podcast accredited")},null,8,B)}const x=_(U,[["render",G]]),Q=N(()=>E(()=>import("./OrganisationChooserLight-B2aUfIaP.js"),__vite__mapDeps([0,1,2,3]))),T=b({name:"FooterSection",components:{ClassicSelect:D,AcpmImage:x,OrganisationChooserLight:Q},mixins:[S,A],data(){return{language:this.$i18n.locale,organisationId:void 0,reset:!1}},computed:{...l(u,["storedCategories","platformEducation"]),...l(g,["filterRubrique","filterOrgaId","filterIab"]),...l(P,["isGarRole","authOrgaId"]),authenticated(){return this.authOrgaId!==void 0},routerLinkSecondArray(){const e=[{title:this.$t("Contact"),routeName:"/main/pub/contact"},{title:this.$t("Term of use"),routeName:"/main/pub/cgu"}];return this.isGarRole||e.push({title:this.$t("Used libraries"),routeName:"/main/pub/libraries"}),e},isPodcastmaker(){return L.generalParameters.podcastmaker},rubriqueQueryParam(){if(this.filterRubrique?.length)return this.filterRubrique.map(e=>e.rubriquageId+":"+e.rubriqueId).join()}},watch:{language(){this.changeLanguage()},filterOrgaId:{immediate:!0,handler(){this.filterOrgaId?this.organisationId=this.filterOrgaId:this.reset=!this.reset}}},methods:{...h(u,["storedUpdateCategories"]),...h(g,["filterUpdateIab"]),getQueriesRouter(e){return e!=="podcasts"&&e!=="emissions"&&e!=="home"?{productor:this.filterOrgaId}:{productor:this.filterOrgaId,iabId:this.filterIab?.id,rubriquesId:this.rubriqueQueryParam}},changeLanguage(){this.setCookie("octopus-language",this.language),w(this.$i18n,this.language,this.authenticated,this.platformEducation),q.fetchData({api:0,path:`iab/list${this.authOrgaId?"/"+this.authOrgaId:""}`,parameters:{lang:this.$i18n.locale}}).then(e=>{if(this.storedUpdateCategories(e),this.filterIab){const t=this.storedCategories.filter(n=>n.id===this.filterIab?.id);t.length&&this.filterUpdateIab(t[0])}})},async onOrganisationSelected(e){if(e?.id){await this.selectOrganisation(e.id);return}this.organisationId=void 0,this.removeSelectedOrga()}}}),j={id:"footer",ref:"footer",class:"d-flex align-items-center justify-content-between border-top mt-auto"},H={key:0,class:"d-flex flex-column px-1"},z={class:"d-flex align-items-center"},J={class:"hosted-by"},K=["title"];function W(e,t,n,C,$,v){const k=r("router-link"),O=r("ClassicSelect"),y=r("OrganisationChooserLight"),c=r("AcpmImage");return a(),i("div",j,[e.isPodcastmaker?I("",!0):(a(),i("div",H,[t[1]||(t[1]=o("div",{class:"text-dark my-1 special-select-align-magic-trick"}," © Saooti 2024 ",-1)),(a(!0),i(F,null,R(e.routerLinkSecondArray,s=>(a(),d(k,{key:s.routeName,class:"link-hover my-1 special-select-align-magic-trick",to:s.routeName},{default:M(()=>[m(p(s.title),1)]),_:2},1032,["to"]))),128)),f(O,{textInit:e.language,"onUpdate:textInit":t[0]||(t[0]=s=>e.language=s),"display-label":!1,"id-select":"language-chooser-select",label:e.$t("Change locale"),transparent:!0,options:[{title:"Deutsch",value:"de"},{title:"English",value:"en"},{title:"Español",value:"es"},{title:"Français",value:"fr"},{title:"Italiano",value:"it"},{title:"Slovenščina",value:"sl"}],class:"mb-1"},null,8,["textInit","label"]),!e.isPodcastmaker&&e.organisationId&&e.authenticated?(a(),d(y,{key:0,page:"footer",width:"auto",defaultanswer:e.$t("No organisation filter"),value:e.organisationId,reset:e.reset,onSelected:e.onOrganisationSelected},null,8,["defaultanswer","value","reset","onSelected"])):I("",!0)])),o("div",z,[o("div",J,[m(p(e.$t("Hosted by")),1),t[2]||(t[2]=o("span",{class:"ms-1 me-1 text-primary"},"Saooti",-1))]),e.isGarRole?(a(),d(c,{key:0})):(a(),i("a",{key:1,href:"https://www.acpm.fr/L-ACPM/Certifications-et-Labels/Les-Podcasts",rel:"noopener",target:"_blank",title:e.$t("Octopus is ACPM Podcast accredited")},[f(c)],8,K))])],512)}const Z=_(T,[["render",W]]);export{Z as default};
