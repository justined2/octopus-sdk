import h from"./ClassicCheckbox-ChwDZ1Xu.js";import d from"./CategoryChooser-BxFM9LPO.js";import{d as l,m as c,a as s,n as C,_ as I,r,o as f,c as g,g as a}from"./index.js";import"./ClassicMultiselect-C-Xf0Kt3.js";const u=l({components:{CategoryChooser:d,ClassicCheckbox:h},emits:["updateCategory"],data(){return{isCategory:!1,iabId:0,isInternChanged:!1,isInit:!0}},computed:{...c(s,["filterIab"])},watch:{isCategory(){this.isInternChanged||this.isInit||(this.isInternChanged=!0,this.$emit("updateCategory",this.isCategory?this.iabId:0),this.resetCategoryFilter(),this.$nextTick(()=>{this.isInternChanged=!1}))},iabId(){this.isInternChanged||this.isInit||(this.isInternChanged=!0,this.resetCategoryFilter(),this.isCategory&&this.$emit("updateCategory",this.iabId),this.$nextTick(()=>{this.isInternChanged=!1}))},filterIab:{deep:!0,handler(){this.isInternChanged||(this.isInternChanged=!0,this.iabId=this.filterIab?this.filterIab.id:0,this.isCategory=this.filterIab!==void 0,this.$emit("updateCategory",this.iabId),this.$nextTick(()=>{this.isInternChanged=!1}))}}},created(){this.filterIab&&(this.iabId=this.filterIab.id,this.isCategory=!0),this.$nextTick(()=>{this.isInit=!1})},methods:{...C(s,["filterUpdateIab"]),resetCategoryFilter(){if(!this.filterIab||this.isInit)return;const t=this.$route.query;t.iabId&&this.$router.replace({query:{...t,iabId:void 0}}),this.filterUpdateIab()}}}),p={class:"d-flex mt-3 align-items-center"};function b(t,e,y,m,$,k){const n=r("ClassicCheckbox"),o=r("CategoryChooser");return f(),g("div",p,[a(n,{textInit:t.isCategory,"onUpdate:textInit":e[0]||(e[0]=i=>t.isCategory=i),class:"flex-shrink-0 me-2","id-checkbox":"search-category-checkbox",label:t.$t("By category")},null,8,["textInit","label"]),a(o,{categorySelected:t.iabId,"onUpdate:categorySelected":e[1]||(e[1]=i=>t.iabId=i),width:"100%",defaultanswer:t.$t("No category filter")},null,8,["categorySelected","defaultanswer"])])}const v=I(u,[["render",b]]);export{v as default};
