import{d as r,p as n,K as c}from"./index.js";const h=r({data(){return{radioInterval:void 0}},unmounted(){clearInterval(this.radioInterval)},methods:{async fetchRadioMetadata(e,t,s,l){const a=await n.fetchData({api:14,path:"player/playing/"+e});l&&l(a.nextAdvertising);const o=a.previously;o.unshift(a.currently);for(let i=0,f=o.length;i<f;i++)if(c().valueOf()-18e3>c(o[i].startDate).valueOf()){await this.useCallbackIfNewMetadata(t,o,i,f,s);return}},async useCallbackIfNewMetadata(e,t,s,l,a){if(e!==t[s].title){const o=s+1<l?s+1:s,i=t.slice(o,l);if(t[s].podcastId){const f=await n.fetchData({api:0,path:"podcast/"+t[s].podcastId});a(t[s],f,i)}else a(t[s],void 0,i)}},displayTitle(e){let t="";return e.title&&(t+=e.title),e.artist&&(t+=" - "+e.artist),t}}});export{h as f};
