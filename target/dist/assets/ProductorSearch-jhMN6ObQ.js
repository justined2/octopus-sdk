const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OrganisationChooser-C6IhNHk4.js","assets/index.js","assets/index.css","assets/selenium-CamdCoc1.js","assets/ClassicMultiselect-C-Xf0Kt3.js","assets/ClassicMultiselect-BX6h9cdx.css","assets/ClassicCheckbox-ChwDZ1Xu.js","assets/ClassicCheckbox-3MIQ8tmA.css"])))=>i.map(i=>d[i]);
import{d as f,M as g,m,a as o,s as k,n as O,q as d,v as c,_ as I,r as s,o as r,c as n,g as a,z as l,f as b,t as v,i as y}from"./index.js";import{C}from"./ClassicSearch-DeffNtC6.js";const $=d(()=>c(()=>import("./OrganisationChooser-C6IhNHk4.js"),__vite__mapDeps([0,1,2,3,4,5]))),S=d(()=>c(()=>import("./ClassicCheckbox-ChwDZ1Xu.js"),__vite__mapDeps([6,1,2,7]))),w=f({components:{OrganisationChooser:$,ClassicSearch:C,ClassicCheckbox:S},mixins:[g],props:{organisationId:{default:void 0,type:String},searchPattern:{default:"",type:String},type:{default:"podcast",type:String}},emits:["update:organisationId","update:searchPattern"],data(){return{keepOrganisation:!1,showBubble:!1}},computed:{...m(o,["filterOrgaId"]),isPodcastmaker(){return k.generalParameters.podcastmaker},searchText(){return this.type==="emission"?this.$t("Look for emission name"):this.type==="participant"?this.$t("Look for participant name"):this.type==="playlist"?this.$t("Look for playlist name"):this.$t("Look for podcast name")}},watch:{filterOrgaId(){this.keepOrganisation=this.filterOrgaId!==void 0,this.filterOrgaId&&this.$emit("update:organisationId",this.filterOrgaId)}},created(){this.organisationId&&this.filterOrgaId===this.organisationId&&(this.keepOrganisation=!0)},methods:{...O(o,["filterUpdateOrga"]),onOrganisationSelected(e){this.$route.query.productor&&this.$router.push({query:{productor:void 0}}),this.filterUpdateOrga({orgaId:void 0}),this.keepOrganisation=!1,e?.id?(this.$emit("update:organisationId",e.id),e.privacy!=="PUBLIC"?this.$nextTick(()=>{this.onKeepOrganisation()}):(this.showBubble=!0,setTimeout(()=>{this.showBubble=!1},6e3))):this.$emit("update:organisationId",void 0)},async onKeepOrganisation(){if(this.organisationId){if(!this.keepOrganisation){await this.selectOrganisation(this.organisationId);return}this.removeSelectedOrga()}}}}),P={class:"d-flex-column align-items-center my-3"},_={key:0,class:"w-50-responsive pe-3 position-relative"};function B(e,t,L,x,A,T){const p=s("OrganisationChooser"),h=s("ClassicCheckbox"),u=s("ClassicSearch");return r(),n("div",P,[!e.isPodcastmaker&&!e.filterOrgaId?(r(),n("div",_,[a(p,{defaultanswer:e.$t("No organisation filter"),"orga-id-selected":e.organisationId,onSelected:e.onOrganisationSelected},null,8,["defaultanswer","orga-id-selected","onSelected"]),a(h,{textInit:e.keepOrganisation,"onUpdate:textInit":t[0]||(t[0]=i=>e.keepOrganisation=i),class:l([e.organisationId?"":"invisible","m-3"]),label:e.$t("check this box if you want to keep this filter for the rest of your visit"),"display-label":!1,"id-checkbox":"organisation-checkbox",onClickAction:e.onKeepOrganisation},null,8,["textInit","class","label","onClickAction"]),b("div",{class:l([e.showBubble?"":"invisible","filter-speech-bubble"])},v(e.$t("check this box if you want to keep this filter for the rest of your visit")),3)])):y("",!0),a(u,{"text-init":e.searchPattern,class:"w-50-responsive",autofocus:!0,"id-search":"productor-search-input",label:e.searchText,"onUpdate:textInit":t[1]||(t[1]=i=>e.$emit("update:searchPattern",i))},null,8,["text-init","label"])])}const V=I(w,[["render",B]]);export{V as default};
