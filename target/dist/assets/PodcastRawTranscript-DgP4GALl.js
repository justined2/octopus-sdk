import{d as c,p as l,_ as f,r as h,o as s,c as e,f as r,t as a,z as m,g as u,F as o,h as d,i}from"./index.js";import g from"./ClassicLoading-Bf3Fy18F.js";const y=c({name:"PodcastRawTranscript",components:{ClassicLoading:g},props:{podcastId:{default:void 0,type:Number}},data(){return{isOpen:!1,firstLoaded:!1,transcript:void 0}},computed:{buttonText(){return this.isOpen?this.$t("Hide transcript"):this.$t("View transcript")}},watch:{async isOpen(){this.isOpen&&!this.firstLoaded&&this.fetchTranscript()}},methods:{async fetchTranscript(){if(this.podcastId){try{this.transcript=await l.fetchData({api:11,path:`transcription/text/${this.podcastId}`})}catch{}this.firstLoaded=!0}}}}),L={key:0,class:"transcription-body"},$={class:"transcription-text"};function v(t,n,C,O,T,b){const p=h("ClassicLoading");return s(),e("div",null,[r("button",{class:m(["btn btn-transcript",{open:t.isOpen}]),onClick:n[0]||(n[0]=k=>t.isOpen=!t.isOpen)},a(t.buttonText),3),t.isOpen?(s(),e("div",L,[u(p,{"loading-text":t.firstLoaded?void 0:t.$t("Loading content ...")},null,8,["loading-text"]),r("div",$,[t.firstLoaded&&t.transcript?.length?(s(),e(o,{key:0},[d(a(t.transcript),1)],64)):i("",!0),t.firstLoaded&&!t.transcript?.length?(s(),e(o,{key:1},[d(a(t.$t("Transcript does not yet exist for this episode")),1)],64)):i("",!0)])])):i("",!0)])}const V=f(y,[["render",v]]);export{V as P};
