import{d as c,k as p,m as o,H as u,a as h,_ as y,r as m,x as g,o as a,c as e,t as i,i as s,e as f,w as R,y as v,f as d}from"./index.js";import{f as P}from"./fetchRadioData-CeXKRHFU.js";const I=c({name:"RadioItem",components:{},mixins:[p,P],props:{radio:{default:void 0,type:Object}},data(){return{currentMetadata:void 0,currentPodcast:void 0,radioInterval:void 0}},computed:{...o(u,["playerRadio"]),...o(h,["filterOrgaId"]),playingRadio(){return this.playerRadio&&this.playerRadio.canalId===this.radio?.id},podcastRadio(){return this.playingRadio?this.playerRadio?.podcast:this.currentPodcast},currentlyPlayingString(){return this.playingRadio&&this.playerRadio?this.displayTitle(this.playerRadio.metadata):this.currentMetadata?this.displayTitle(this.currentMetadata):""}},mounted(){this.fetchCurrentlyPlaying(),this.radioInterval=setInterval(()=>{this.fetchCurrentlyPlaying()},1e4)},methods:{async fetchCurrentlyPlaying(){!this.radio||this.playingRadio||this.fetchRadioMetadata(this.radio.id,this.currentMetadata?.title??"",this.updateMetadata)},updateMetadata(t,r){this.currentMetadata=t,this.currentPodcast=r}}}),k={class:"d-flex align-items-center"},C={key:0,class:"me-2 fw-bold"},M=["title","alt"],S={key:2};function _(t,r,$,w,B,D){const n=m("router-link"),l=g("lazy");return a(),e("div",k,[t.currentlyPlayingString.length||t.podcastRadio?(a(),e("div",C,i(t.$t("Currently")+" : "),1)):s("",!0),t.podcastRadio?(a(),f(n,{key:1,class:"d-flex align-items-center",to:{name:"podcast",params:{podcastId:t.podcastRadio.podcastId},query:{productor:t.filterOrgaId}}},{default:R(()=>[v(d("img",{width:"80",height:"80",class:"small-img-box",title:t.$t("Episode name image",{name:t.podcastRadio.title}),alt:t.$t("Episode name image",{name:t.podcastRadio.title})},null,8,M),[[l,t.proxyImageUrl(t.podcastRadio.imageUrl,"80")]]),d("div",null,i(t.podcastRadio.title),1)]),_:1},8,["to"])):t.currentlyPlayingString.length?(a(),e("div",S,i(t.currentlyPlayingString),1)):s("",!0)])}const O=y(I,[["render",_]]);export{O as default};
