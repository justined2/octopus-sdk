const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.js","assets/index.css"])))=>i.map(i=>d[i]);
import{d as g,M as y,m as d,D as b,a as k,s as l,p as v,q as w,v as $,_ as P,r as c,o,c as i,y as C,A as I,f as A,e as a,w as n,F as p,b as L,z as N,h as m,t as r,i as h,g as O,T as q}from"./index.js";const E=w(()=>$(()=>import("./index.js").then(t=>t.ay),__vite__mapDeps([0,1]))),M=g({name:"MobileMenu",components:{ClassicPopover:E},mixins:[y],props:{isEducation:{default:!1,type:Boolean},show:{default:!1,type:Boolean},notPodcastAndEmission:{default:!1,type:Boolean},scrolled:{default:!1,type:Boolean}},data(){return{firstLoaded:!1}},computed:{...d(b,["authOrgaId"]),...d(k,["filterLive","filterOrgaId","filterIab","filterRubrique"]),isAuthenticatedWithOrga(){return this.authOrgaId!==void 0},routerLinkArray(){return[{title:this.$t("My space"),routeName:"backoffice",condition:this.isAuthenticatedWithOrga},{title:this.$t("Home"),routeName:"home",condition:!0},{title:this.$t("Radio & Live"),routeName:"lives",condition:l.generalParameters.isLiveTab&&(this.filterOrgaId&&this.filterLive||!this.filterOrgaId)},{title:this.$t("Podcasts"),routeName:"podcasts",condition:!this.notPodcastAndEmission},{title:this.$t("Emissions"),routeName:"emissions",condition:!this.notPodcastAndEmission},{title:this.$t("Productors"),routeName:"productors",condition:!this.isPodcastmaker&&(!this.filterOrgaId||this.isEducation)},{title:this.$t("Playlists"),routeName:"playlists",condition:!0},{title:this.$t("Speakers"),routeName:"participants",condition:!0},{title:this.$t("Create an account"),routeName:"createAccount",condition:!this.isAuthenticatedWithOrga}]},isPodcastmaker(){return l.generalParameters.podcastmaker},rubriqueQueryParam(){if(this.filterRubrique?.length)return this.filterRubrique.map(t=>t.rubriquageId+":"+t.rubriqueId).join()}},methods:{async logoutFunction(){try{await v.postData({api:4,path:"/logout",dataToSend:void 0}),await this.$router.push({path:"/"}),location.reload()}catch{}},handleMenuClick(){this.firstLoaded||(this.firstLoaded=!0,setTimeout(()=>{document.getElementById("mobile-menu-dropdown")?.click()},200))},getQueriesRouter(t){return t!=="podcasts"&&t!=="emissions"&&t!=="home"?{productor:this.filterOrgaId}:{productor:this.filterOrgaId,iabId:this.filterIab?.id,rubriquesId:this.rubriqueQueryParam}}}}),_=["title"],B={key:0,class:"octopus-dropdown-item",href:"/sso/login",realLink:"true"};function F(t,s,R,S,T,D){const u=c("router-link"),f=c("ClassicPopover");return o(),i("div",null,[C(A("button",{id:"mobile-menu-dropdown",class:"btn-transparent saooti-menu text-white c-hand m-2 h2",title:t.$t("open left Menu"),onClick:s[0]||(s[0]=(...e)=>t.handleMenuClick&&t.handleMenuClick(...e))},null,8,_),[[I,t.show]]),(o(),a(q,{to:".octopus-app",disabled:t.scrolled},[t.firstLoaded?(o(),a(f,{key:0,target:"mobile-menu-dropdown","popover-class":"popover-z-index","only-click":!0,"is-fixed":!0,"left-pos":!0},{default:n(()=>[(o(!0),i(p,null,L(t.routerLinkArray,e=>(o(),i(p,{key:e.routeName},[e.condition?(o(),a(u,{key:0,class:N(e.routeName==="home"?"octopus-dropdown-item show-phone-flex":"octopus-dropdown-item"),to:{name:e.routeName,query:t.getQueriesRouter(e.routeName)}},{default:n(()=>[m(r(e.title),1)]),_:2},1032,["class","to"])):h("",!0)],64))),128)),t.isAuthenticatedWithOrga?(o(),i("a",{key:1,class:"octopus-dropdown-item",onClick:s[1]||(s[1]=(...e)=>t.logoutFunction&&t.logoutFunction(...e))},r(t.$t("Logout")),1)):(o(),i("a",B,r(t.$t("Login")),1)),O(u,{class:"octopus-dropdown-item",to:"/main/pub/contact"},{default:n(()=>[m(r(t.$t("Contact")),1)]),_:1})]),_:1})):h("",!0)],8,["disabled"]))])}const Q=P(M,[["render",F]]);export{Q as default};
