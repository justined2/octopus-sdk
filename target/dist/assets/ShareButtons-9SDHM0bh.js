const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClipboardModal-C3Vp9xmT.js","assets/index.js","assets/index.css","assets/ClassicModal-mpJgF1dy.js","assets/ClassicModal-D0ckngeT.css","assets/displayMethods-CzaGbBDz.js","assets/NewsletterModal-UbHH9_et.js","assets/SnackBar-BYGi5e7s.js","assets/SnackBar-BAfrY8QD.css","assets/style-sAP9lhUx.js","assets/style-CR8nY6_o.css","assets/NewsletterModal-Cl47V5zO.css","assets/QrCodeModal-CY-8Cym2.js","assets/QrCode-CaQdB7x0.js","assets/ClassicCheckbox-ChwDZ1Xu.js","assets/ClassicCheckbox-3MIQ8tmA.css"])))=>i.map(i=>d[i]);
import{d as b,m as c,D as k,l as C,s as w,n as $,a7 as I,p as R,q as u,v as h,_ as A,r as l,o as i,c as n,f as s,t as d,F as m,b as _,z as r,i as o,R as P,g as L,w as B,e as p}from"./index.js";import{d as M}from"./displayMethods-CzaGbBDz.js";const N=u(()=>h(()=>import("./ClipboardModal-C3Vp9xmT.js"),__vite__mapDeps([0,1,2,3,4,5]))),O=u(()=>h(()=>import("./NewsletterModal-UbHH9_et.js"),__vite__mapDeps([6,3,1,2,4,7,8,9,10,5,11]))),z=u(()=>h(()=>import("./QrCodeModal-CY-8Cym2.js"),__vite__mapDeps([12,3,1,2,4,13,14,15,7,8]))),E=u(()=>h(()=>import("./SnackBar-BYGi5e7s.js"),__vite__mapDeps([7,1,2,8]))),D=b({components:{ClipboardModal:N,NewsletterModal:O,QrCodeModal:z,SnackBar:E},mixins:[M],props:{podcast:{default:void 0,type:Object},emission:{default:void 0,type:Object},playlist:{default:void 0,type:Object},participantId:{default:void 0,type:Number},organisationId:{default:void 0,type:String}},data(){return{noSharing:!0,isLoading:!0,dataRSSSave:!1,newsletter:!1,qrCode:!1,displayRss:!1,lazyLoadingSnackbar:!1}},computed:{...c(k,["isGarStudent","authOrganisation","isRoleProduction","authOrgaId"]),...c(C,["apiUrl"]),shareAiAuth(){return!this.isPodcastmaker&&this.authOrgaId!==void 0&&this.podcast!==void 0&&this.isRoleProduction&&this.authOrganisation.attributes?.["openAi.active"]==="true"},titleRssButton(){return this.participantId?this.$t("Subscribe to this participant"):this.emission?this.$t("Subscribe to this emission"):this.$t("Subscribe to this RSS feed")},arrayShareButtons(){return[{title:"Facebook",icon:"saooti-facebook",className:"btn-facebook",url:`https://www.facebook.com/sharer/sharer.php?u=${this.urlPage}`,condition:!0},{title:"X",icon:"saooti-twitter",className:"btn-twitter",url:`https://twitter.com/intent/tweet?text=${this.urlPage}`,condition:!0},{title:"Linkedin",icon:"saooti-linkedin",className:"btn-linkedin",url:`https://www.linkedin.com/sharing/share-offsite/?url=${this.urlPage}`,condition:!0},{title:"Whatsapp",icon:"saooti-Whatsapp",className:"btn-whatsapp",url:`whatsapp://send?text=${this.urlPage}`,condition:window.matchMedia("(hover: none)").matches}]},urlPage(){return window.location.href},isPodcastmaker(){return w.generalParameters.podcastmaker},rssUrl(){let t=this.apiUrl+"rss/";return!this.isPodcastmaker&&this.playlist||this.podcast||this.emission?"":this.participantId?t+"participant/"+this.participantId+".rss":this.playlist?t+"playlist/"+this.playlist.playlistId+".rss":this.organisationId?t+"productor/"+this.organisationId+".rss":""}},created(){this.initShareButtons()},methods:{...$(I,["getOrgaAttributes"]),async initShareButtons(){if(this.participantId!==void 0?this.displayRss=await R.fetchData({api:0,path:`rss/participants/allowed/${this.organisationId}`,isNotAuth:!0}):this.displayRss=!0,!this.organisationId)return;const t=await this.getOrgaAttributes(this.organisationId);this.noSharing=t.noSharing==="true",this.isLoading=!1},getClass(t="btn-rss"){return`btn ${t} share-btn mb-2 text-dark`},openPopup(){this.dataRSSSave=!this.dataRSSSave},afterCopy(){this.lazyLoadingSnackbar?this.$refs.snackbar.open(this.$t("Link in clipboard")):(this.lazyLoadingSnackbar=!0,setTimeout(()=>{this.afterCopy()},500))}}}),U={key:0,class:"module-box"},V={class:"share-buttons-display"},q={key:0,class:"d-flex flex-column me-2"},j={class:"h2 mb-2"},Q={class:"d-flex align-items-center"},T=["href","title"],F=["title"],G={class:"d-flex-column align-items-center"},W={key:0,class:"d-flex flex-column share-left-not-phone"},X={class:"h2 mb-2"},H=["title"],J={class:"d-flex flex-column share-left-not-phone"},K={class:"h2 mb-2"},Y=["title"],Z={key:1,class:"d-flex flex-column ms-4"},x={class:"h2 mb-2"},tt={class:"d-flex align-items-center justify-content-center"},st=["href","title"],et={key:2,class:"d-flex flex-column ms-4"},at={class:"h2 mb-2"},it={class:"d-flex align-items-center justify-content-center"};function ot(t,e,nt,rt,lt,dt){const f=l("router-link"),g=l("ClipboardModal"),v=l("NewsletterModal"),y=l("QrCodeModal"),S=l("SnackBar");return!t.isLoading&&(t.authOrgaId||!t.noSharing)?(i(),n("div",U,[s("div",V,[!t.isGarStudent&&!t.noSharing?(i(),n("div",q,[s("div",j,d(t.$t("Share in one click")),1),s("div",Q,[(i(!0),n(m,null,_(t.arrayShareButtons,a=>(i(),n(m,{key:a.title},[a.condition?(i(),n("a",{key:0,rel:"noopener",target:"_blank",href:a.url,class:r([t.getClass(a.className),"me-2"]),title:a.title},[s("div",{class:r(a.icon)},null,2)],10,T)):o("",!0)],64))),128)),s("button",{class:r([t.getClass(),"saooti-link"]),title:t.$t("Copy this page URL"),onClick:e[0]||(e[0]=a=>t.onCopyCode(t.urlPage,t.afterCopy))},null,10,F)])])):o("",!0),s("div",G,[t.podcast||t.emission||t.playlist?(i(),n("div",W,[s("div",X,d(t.$t("Newsletter")),1),s("button",{class:r([t.getClass(),"saooti-newsletter"]),title:t.$t("Share newsletter"),onClick:e[1]||(e[1]=a=>t.newsletter=!0)},null,10,H)])):o("",!0),s("div",J,[s("div",K,d(t.$t("QR Code")),1),s("button",{class:r([t.getClass(),"saooti-qrcode"]),title:t.$t("Share QR Code"),onClick:e[2]||(e[2]=a=>t.qrCode=!0)},null,10,Y)]),t.rssUrl!==""&&t.displayRss?(i(),n("div",Z,[s("div",x,d(t.$t("Rss feed")),1),s("div",tt,[s("a",{rel:"noopener",target:"_blank",class:r(["saooti-rss",t.getClass()]),href:t.rssUrl,title:t.titleRssButton,onClick:e[3]||(e[3]=P(a=>t.openPopup(),["prevent"]))},null,10,st)])])):o("",!0),t.shareAiAuth?(i(),n("div",et,[s("div",at,d(t.$t("Generate a social media post (with AI)")),1),s("div",it,[L(f,{class:r(t.getClass()),title:t.$t("Generate a social media post (with AI)"),to:{name:"advancedShare",params:{podcastId:t.podcast.podcastId}}},{default:B(()=>e[7]||(e[7]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-stars",viewBox:"0 0 16 16"},[s("path",{d:"M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"})],-1)])),_:1},8,["class","title","to"])])])):o("",!0)]),t.dataRSSSave?(i(),p(g,{key:1,link:t.rssUrl,emission:t.emission,onClose:e[4]||(e[4]=a=>t.dataRSSSave=!1),onCopy:t.afterCopy},null,8,["link","emission","onCopy"])):o("",!0),t.newsletter?(i(),p(v,{key:2,closable:!0,podcast:t.podcast,emission:t.emission,playlist:t.playlist,onClose:e[5]||(e[5]=a=>t.newsletter=!1)},null,8,["podcast","emission","playlist"])):o("",!0),t.qrCode?(i(),p(y,{key:3,closable:!0,"url-page":t.urlPage,onClose:e[6]||(e[6]=a=>t.qrCode=!1)},null,8,["url-page"])):o("",!0),t.lazyLoadingSnackbar?(i(),p(S,{key:4,ref:"snackbar",position:"bottom-left"},null,512)):o("",!0)])])):o("",!0)}const ht=A(D,[["render",ot]]);export{ht as default};
