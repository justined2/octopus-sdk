import{s as d}from"./selenium-CamdCoc1.js";import{d as p,m as c,H as y,n as u,_ as h,o as a,c as n,F as f,b as C,f as o,G as r,t as l,i as m}from"./index.js";import{u as v}from"./CommentStore-DzAJcgPT.js";const P=p({name:"CommentPlayer",mixins:[d],data(){return{displayContent:void 0,commentsToDisplay:[]}},computed:{...c(y,["playerPodcast","playerTotal"]),podcastId(){return this.playerPodcast?.podcastId}},watch:{podcastId:{immediate:!0,handler(){this.initComments()}}},methods:{...u(v,["fetchCommentsForPlayer"]),async initComments(){this.playerPodcast?.podcastId&&(this.commentsToDisplay=await this.fetchCommentsForPlayer(this.playerPodcast.podcastId))},percentPosition(e){let t=this.playerTotal;return this.playerPodcast?.duration&&(t=Math.round(this.playerPodcast.duration/1e3)),t<this.playerTotal&&(e=e+(this.playerTotal-t)),Math.round(e*100/this.playerTotal)}}}),T={key:0,class:"comment-player-container"},k=["onMouseenter","onClick"],$=["data-selenium"],g={key:0,class:"d-flex align-itemx-center mt-4"},D={class:"text-primary flex-shrink-0"},I={class:"text-truncate"};function _(e,t,F,M,S,N){return e.commentsToDisplay.length?(a(),n("div",T,[(a(!0),n(f,null,C(e.commentsToDisplay,s=>(a(),n("div",{key:s.commentId,class:"c-hand",onMouseenter:i=>e.displayContent=s,onMouseleave:t[0]||(t[0]=i=>e.displayContent=void 0),onClick:i=>e.displayContent=s},[o("div",{style:r("margin-left: "+e.percentPosition(s.timeline??0)+"%"),class:"comment-border"},null,4),o("div",{style:r("margin-left: calc("+e.percentPosition(s.timeline??0)+"% - 7px)"),class:"status-comment","data-selenium":"comment-"+e.seleniumFormat(s.poster.userName)},null,12,$)],40,k))),128)),e.displayContent?(a(),n("div",g,[o("div",D,l(e.displayContent.poster.userName),1),t[1]||(t[1]=o("div",{class:"ms-1 me-1"},"-",-1)),o("div",I,l(e.displayContent.content),1)])):m("",!0)])):m("",!0)}const V=h(P,[["render",_]]);export{V as default};
