import{C as l}from"./config-CKXj5qII.js";import{d as u,m as o,D as N,n as p,_ as f,o as i,c as r,e as c,w as h,h as C,t as n,z as m,X as E,F as b,f as a,y as v,as as y}from"./index.js";import{u as d}from"./CommentStore-DzAJcgPT.js";const g=u({name:"CommentName",emits:[],data(){return{isEditing:!1,temporaryName:"",maxName:l.MAX_COMMENT_NAME}},computed:{...o(d,["commentUser"]),...o(N,["authProfile"]),canEditName(){return this.authProfile!==void 0},nameNotValid(){return this.countName===0||!this.validName},validName(){return this.countName<=this.maxName},countName(){return this.temporaryName.length}},methods:{...p(d,["setCommentUser"]),startEditingName(){this.canEditName&&(this.temporaryName=this.commentUser?.name??"",this.isEditing=!0)},validEdit(){this.setCommentUser(this.temporaryName),this.isEditing=!1}}}),k={class:"d-flex align-items-center mb-2"},$={class:"d-flex flex-column"},U=["disabled"];function V(e,t,M,w,A,B){return i(),r("div",k,[e.isEditing?(i(),r(b,{key:1},[a("div",$,[v(a("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.temporaryName=s),class:m(["h6",{"border border-danger":e.nameNotValid}]),type:"text"},null,2),[[y,e.temporaryName]]),a("p",{class:m(["d-flex justify-content-end h6 mb-0",{"text-danger":!e.validName}])},n(e.countName+" / "+e.maxName),3)]),a("button",{class:"btn m-1",onClick:t[1]||(t[1]=s=>e.isEditing=!1)},n(e.$t("Cancel")),1),a("button",{class:"btn btn-primary m-1",disabled:e.nameNotValid,onClick:t[2]||(t[2]=(...s)=>e.validEdit&&e.validEdit(...s))},n(e.$t("Yes")),9,U)],64)):(i(),c(E(e.canEditName?"button":"div"),{key:0,class:m(["h6 fw-bold",e.canEditName?"btn btn-transparent p-1":""]),onClick:e.startEditingName},{default:h(()=>[C(n(e.commentUser.name),1)]),_:1},8,["class","onClick"]))])}const z=f(g,[["render",V]]);export{z as default};
