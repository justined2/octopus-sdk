const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RubriqueChooser-D_nId_Nq.js","assets/selenium-CamdCoc1.js","assets/ClassicMultiselect-C-Xf0Kt3.js","assets/index.js","assets/index.css","assets/ClassicMultiselect-BX6h9cdx.css"])))=>i.map(i=>d[i]);
import{d as l,q,v as g,_ as p,r as I,o as i,c as t,y as h,ad as m,f as a,F as n,b as c,t as o,e as R,i as s}from"./index.js";const f=q(()=>g(()=>import("./RubriqueChooser-D_nId_Nq.js"),__vite__mapDeps([0,1,2,3,4,5]))),y=l({components:{RubriqueChooser:f},props:{rubriquageDisplay:{default:()=>[],type:Array},rubriquageIdSelected:{default:0,type:Number},rubriqueIdSelected:{default:0,type:Number},index:{default:0,type:Number}},emits:["deleteRubriqueChoice","updateRubrique","updateRubriquage"],data(){return{rubriquageId:void 0,rubriqueId:void 0,reset:!1}},watch:{rubriquageIdSelected(){this.initRubriquage()},rubriqueIdSelected(){this.initRubriquage()}},created(){this.initRubriquage()},methods:{initRubriquage(){this.rubriquageId=this.rubriquageIdSelected},deleteRubriquage(){this.$emit("deleteRubriqueChoice")},getRubriques(e){const r=this.rubriquageDisplay.findIndex(d=>d.rubriquageId===e);return r!==-1?this.rubriquageDisplay[r].rubriques:[]},onRubriqueSelected(e){e.rubriqueId!==this.rubriqueId&&(this.rubriqueId=e.rubriqueId,this.$emit("updateRubrique",{rubriqueId:e.rubriqueId,index:this.index}))},onRubriquageSelected(){this.reset=!this.reset,this.rubriqueId=0,this.$emit("updateRubriquage",{rubriquageId:this.rubriquageId,index:this.index})}}}),S={class:"d-flex align-items-center"},v=["value"],C={class:"ms-3 flex-shrink-0"};function k(e,r,d,$,D,N){const b=I("RubriqueChooser");return i(),t("div",S,[h(a("select",{"onUpdate:modelValue":r[0]||(r[0]=u=>e.rubriquageId=u),class:"ms-2 mb-0 c-hand",onChange:r[1]||(r[1]=(...u)=>e.onRubriquageSelected&&e.onRubriquageSelected(...u))},[(i(!0),t(n,null,c(e.rubriquageDisplay,u=>(i(),t("option",{key:u.rubriquageId,value:u.rubriquageId},o(u.title),9,v))),128))],544),[[m,e.rubriquageId]]),e.rubriquageId?(i(),t(n,{key:0},[a("div",C,o(e.$t("By rubric")),1),e.getRubriques(e.rubriquageId).length?(i(),R(b,{key:0,class:"ms-2",multiple:!1,"rubriquage-id":e.rubriquageId,"rubrique-selected":e.rubriqueIdSelected!==0?e.rubriqueIdSelected:void 0,"all-rubriques":e.getRubriques(e.rubriquageId),defaultanswer:e.$t("No rubric filter"),reset:e.reset,"without-rubrique":!0,onSelected:e.onRubriqueSelected},null,8,["rubriquage-id","rubrique-selected","all-rubriques","defaultanswer","reset","onSelected"])):s("",!0)],64)):s("",!0),e.index?(i(),t("button",{key:1,class:"btn admin-button ms-1 saooti-bin",title:"delete",onClick:r[2]||(r[2]=(...u)=>e.deleteRubriquage&&e.deleteRubriquage(...u))})):s("",!0)])}const B=p(y,[["render",k]]);export{B as default};
