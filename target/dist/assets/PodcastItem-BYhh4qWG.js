const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PodcastPlayBar-lf7uxuMu.js","assets/ProgressBar-Du9DcDQS.js","assets/index.js","assets/index.css","assets/ProgressBar-c6qSncaO.css","assets/displayMethods-CzaGbBDz.js"])))=>i.map(i=>d[i]);
import{d as f,m as w,a as $,_ as D,r as a,o,c as r,g as c,w as l,h,t as d,i as s,s as k,K as P,q as N,v as O,f as p,e as u,P as b,z as B}from"./index.js";import{o as C}from"./orgaComputed-ovvKvHgW.js";import{P as S}from"./PodcastImage-jptmSDc7.js";const E=f({name:"AnimatorsItem",props:{animator:{default:void 0,type:Object}},computed:{...w($,["filterOrgaId"]),animatorName(){return`${this.animator?.firstName??""} ${this.animator?.lastName??""}`.trim()}}}),H={key:0,class:"d-flex align-items-center justify-content-start animators-item"};function M(t,e,g,y,v,I){const i=a("router-link");return t.animator?(o(),r("div",H,[c(i,{to:{name:"participant",params:{participantId:t.animator.participantId},query:{productor:t.filterOrgaId}},title:t.$t("Participant"),class:"podcast-item-animator text-truncate"},{default:l(()=>[h(d(t.animatorName),1)]),_:1},8,["to","title"])])):s("",!0)}const j=D(E,[["render",M]]),A=N(()=>O(()=>import("./PodcastPlayBar-lf7uxuMu.js"),__vite__mapDeps([0,1,2,3,4,5]))),_=f({name:"PodcastItemInfo",components:{AnimatorsItem:j,PodcastPlayBar:A},mixins:[C],props:{podcastId:{default:void 0,type:Number},title:{default:"",type:String},pubDate:{default:"",type:String},podcastOrganisationId:{default:"",type:String},podcastOrganisationName:{default:"",type:String},duration:{default:0,type:Number},animators:{default:void 0,type:Object}},computed:{isProgressBar(){return k.emissionsPage.progressBar},date(){return P(this.pubDate).format("D MMMM YYYY, HH[h]mm")},editRight(){return this.isEditRights(this.podcastOrganisationId)},orgaNameDisplay(){return this.podcastOrganisationName.length>30?this.podcastOrganisationName.substring(0,30)+"...":this.podcastOrganisationName}}}),T={class:"text-secondary h6 ms-2"},V={class:"mx-2 d-flex align-items-center justify-content-between mt-2"},q={key:0,class:"useless-div-for-podcastmaker"};function Y(t,e,g,y,v,I){const i=a("router-link"),m=a("PodcastPlayBar"),n=a("AnimatorsItem");return o(),r("div",null,[p("div",T,d(t.date),1),c(i,{to:{name:"podcast",params:{podcastId:t.podcastId},query:{productor:t.filterOrgaId}},class:"text-dark flex-grow-1 title-podcast-item"},{default:l(()=>[h(d(t.title),1)]),_:1},8,["to"]),t.isProgressBar?(o(),u(m,{key:0,"podcast-id":t.podcastId,duration:t.duration,class:"mx-2"},null,8,["podcast-id","duration"])):s("",!0),p("div",V,[t.isPodcastmaker?(o(),r("div",q)):s("",!0),t.animators&&t.animators.length!==0?(o(),u(n,{key:1,class:"w-0 flex-grow-1",animator:t.animators[0]},null,8,["animator"])):s("",!0),t.isPodcastmaker?s("",!0):(o(),u(i,{key:2,to:{name:"productor",params:{productorId:t.podcastOrganisationId},query:{productor:t.filterOrgaId}},class:"text-dark producer-podcast-item"},{default:l(()=>[h(d("Â© "+t.orgaNameDisplay),1)]),_:1},8,["to"]))])])}const L=D(_,[["render",Y]]),R=f({name:"PodcastItem",components:{PodcastItemInfo:L,PodcastImage:S},props:{podcast:{default:()=>({}),type:Object},fetchConference:{default:void 0,type:Object}},data(){return{firstDisplayDesc:!1,hoverDesc:!1,arrowDirection:"up",isDescriptionBig:!1,debounceShowDescriptionEvent:void 0,debounceHideDescriptionEvent:void 0}},computed:{displayDate(){return P(this.podcast.pubDate).format()},description(){return this.podcast.description??""},isMobile(){return window.matchMedia("(hover: none)").matches}},created(){this.debounceShowDescriptionEvent=b(this.showDescription,100),this.debounceHideDescriptionEvent=b(this.hideDescription,100)},methods:{initDescription(){if(this.firstDisplayDesc)return;const t=this.$refs.descriptionPodcast,e=this.$refs.descriptionPodcastContainer;t?.clientHeight>e?.clientHeight&&(this.isDescriptionBig=!0),this.firstDisplayDesc=!0},showDescription(){this.arrowDirection="down",this.hoverDesc=!0,this.$nextTick(()=>{this.initDescription()})},hideDescription(){this.arrowDirection="up",this.hoverDesc=!1}}}),z=["data-pubdate","data-count"],F=["innerHTML"];function K(t,e,g,y,v,I){const i=a("PodcastImage"),m=a("PodcastItemInfo");return o(),r("div",{class:"podcast-item-container","data-pubdate":t.displayDate,"data-count":t.podcast.downloadCount},[c(i,{podcast:t.podcast,"hide-play":t.hoverDesc&&t.description.length!==0,"display-description":t.description.length!==0,"arrow-direction":t.arrowDirection,"fetch-conference":t.fetchConference,onHideDescription:t.hideDescription,onShowDescription:t.showDescription},null,8,["podcast","hide-play","display-description","arrow-direction","fetch-conference","onHideDescription","onShowDescription"]),t.hoverDesc?(o(),r("div",{key:0,ref:"descriptionPodcastContainer",class:B(["description-podcast-item html-wysiwyg-content",[t.isMobile?"mobile-description-podcast-item":"",t.hoverDesc&&t.description!==""?"visible":"invisible",t.isDescriptionBig?"after-podcast-description":""]])},[p("div",{ref:"descriptionPodcast",innerHTML:t.description},null,8,F)],2)):s("",!0),p("div",{onMouseenter:e[0]||(e[0]=(...n)=>t.debounceShowDescriptionEvent&&t.debounceShowDescriptionEvent(...n)),onMouseleave:e[1]||(e[1]=(...n)=>t.debounceHideDescriptionEvent&&t.debounceHideDescriptionEvent(...n))},[c(m,{"podcast-id":t.podcast.podcastId,title:t.podcast.title,"pub-date":t.podcast.pubDate,"podcast-organisation-id":t.podcast.organisation.id,"podcast-organisation-name":t.podcast.organisation.name,duration:t.podcast.duration,animators:t.podcast.animators},null,8,["podcast-id","title","pub-date","podcast-organisation-id","podcast-organisation-name","duration","animators"])],32)],8,z)}const U=D(R,[["render",K]]);export{U as P};
