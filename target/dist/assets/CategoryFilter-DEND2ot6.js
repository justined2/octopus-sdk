const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CategoryList-CPA4da71.js","assets/index.js","assets/index.css","assets/CategoryList-DevgSc5b.css","assets/RubriqueList-C1H8BRsJ.js","assets/RubriqueList-DtJ8swUQ.css","assets/RubriqueChooser-D_nId_Nq.js","assets/selenium-CamdCoc1.js","assets/ClassicMultiselect-C-Xf0Kt3.js","assets/ClassicMultiselect-BX6h9cdx.css"])))=>i.map(i=>d[i]);
import{d as C,m as v,a as g,n as D,q,v as m,_,r as p,o as i,c as u,y as f,A as y,f as l,t as n,i as d,F as I,b as F,z as A,e as h,G as L}from"./index.js";const S=q(()=>m(()=>import("./CategoryList-CPA4da71.js"),__vite__mapDeps([0,1,2,3]))),w=q(()=>m(()=>import("./RubriqueList-C1H8BRsJ.js"),__vite__mapDeps([4,1,2,5]))),E=q(()=>m(()=>import("./RubriqueChooser-D_nId_Nq.js"),__vite__mapDeps([6,7,8,1,2,9]))),j=C({name:"CategoryFilter",components:{CategoryList:S,RubriqueList:w,RubriqueChooser:E},data(){return{isCategories:!1}},computed:{...v(g,["filterIab","filterRubrique","filterRubriquage","filterOrgaId"]),isDisplay(){return(this.$route.name==="homePriv"||this.$route.name==="home"||this.$route.name==="podcasts"||this.$route.name==="emissions")&&(this.isCategories||this.filterIab!==void 0||this.filterRubrique.length!==0||this.rubriquageFilter.length!==0)},isHeaderDisplay(){return this.isDisplay||this.$route.name==="participants"||this.$route.name==="playlists"},rubriquageFilter(){return this.filterOrgaId?this.filterRubriquage:[]},titleDisplay(){switch(this.$route.name){case"podcasts":return this.$t("All podcasts");case"emissions":return this.$t("All emissions");case"participants":return this.$t("All participants");case"playlists":return this.$t("All playlists");default:return""}},backgroundDisplay(){let e="home";switch(this.$route.name){case"podcasts":e="podcasts";break;case"emissions":e="emissions";break;case"participants":e="intervenants";break;case"playlists":e="playlists";break}return`background-image: url('/img/header-${e}.webp');`}},methods:{...D(g,["filterUpdateIab","filterUpdateRubrique"]),checkIfCategories(e){this.isCategories=e!==0},onRubriqueSelected(e,r){if(!r||this.filterRubrique[e].rubriqueId===r.rubriqueId)return;const t=Array.from(this.filterRubrique);t[e].rubriqueId=r.rubriqueId??0,this.filterUpdateRubrique(t);const o=t.map(a=>a.rubriquageId+":"+a.rubriqueId).join();this.$router.replace({query:{...this.$route.query,rubriquesId:o}})},getRubriques(e){const r=this.filterRubriquage.find(t=>t.rubriquageId===e);return r?r.rubriques:[]},removeFilter(e,r){if(this.filterIab)this.$route.query.iabId&&this.$router.replace({query:{...this.$route.query,iabId:void 0}}),this.filterUpdateIab();else{const t=Array.from(this.filterRubrique);if(t.splice(e+1),this.$route.query.rubriquesId){const o=t.map(a=>a.rubriquageId+":"+a.rubriqueId).join();this.$router.replace({query:{...this.$route.query,rubriquesId:o!==""?o:void 0}})}this.filterUpdateRubrique(t)}r&&r.preventDefault()}}}),O={class:"d-flex flex-column justify-content-end"},P={key:0,class:"octopus-breadcrumb d-flex align-items-center justify-content-center flex-wrap"},U={class:"octopus-breadcrumb-li"},V={key:0,class:"octopus-breadcrumb-li"},B=["onClick"],z={key:1,class:"fw-bold"},N={key:0,class:"category-filter-no-filter"};function T(e,r,t,o,a,H){const R=p("RubriqueChooser"),$=p("CategoryList"),k=p("RubriqueList");return i(),u(I,null,[f(l("div",{class:"header-img flex-column justify-content-end",style:L(e.backgroundDisplay)},[l("h1",null,n(e.titleDisplay),1),f(l("div",O,[e.filterIab||e.filterRubrique.length?(i(),u("ol",P,[l("li",U,[l("a",{href:"#",onClick:r[0]||(r[0]=s=>e.removeFilter(-1,s))},n(e.$t("All")),1)]),e.filterIab?(i(),u("li",V,n(e.filterIab.name),1)):d("",!0),(i(!0),u(I,null,F(e.filterRubrique,(s,b)=>(i(),u("li",{key:s.rubriqueId,class:A(["d-flex align-items-center octopus-breadcrumb-li",e.filterRubrique.length-1===b?"active":""])},[e.filterRubrique.length-1!==b?(i(),u("a",{key:0,href:"#",onClick:c=>e.removeFilter(b,c)},n(s.nameRubriquage),9,B)):(i(),u("div",z,n(s.nameRubriquage),1)),r[1]||(r[1]=l("div",{class:"mx-1"},":",-1)),e.getRubriques(s.rubriquageId).length?(i(),h(R,{key:2,class:"ms-2 multiselect-transparent multiselect-white",multiple:!1,"rubriquage-id":s.rubriquageId,"rubrique-selected":s.rubriqueId,"all-rubriques":e.getRubriques(s.rubriquageId),width:"auto",onSelected:c=>e.onRubriqueSelected(b,c)},null,8,["rubriquage-id","rubrique-selected","all-rubriques","onSelected"])):d("",!0)],2))),128))])):d("",!0),!e.filterIab&&!e.rubriquageFilter.length?(i(),h($,{key:1,"is-filter":!0,"is-display":e.isDisplay,onCategoriesLength:e.checkIfCategories},null,8,["is-display","onCategoriesLength"])):e.isDisplay&&e.rubriquageFilter.length!==e.filterRubrique.length?(i(),h(k,{key:2,rubriquages:e.rubriquageFilter},null,8,["rubriquages"])):d("",!0)],512),[[y,e.isDisplay]])],4),[[y,e.isHeaderDisplay]]),e.isDisplay?d("",!0):(i(),u("div",N))],64)}const J=_(j,[["render",T]]);export{J as default};
