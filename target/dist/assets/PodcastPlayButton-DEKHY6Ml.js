import{d as p,k as u,m as d,D as h,H as l,Q as y,n as v,s as f,_ as P,o as s,c as i,f as n,F as g,i as a,z as r,R as m,t as c}from"./index.js";const b=p({name:"PodcastPlayButton",mixins:[u],props:{podcast:{default:()=>({}),type:Object},hidePlay:{default:!1,type:Boolean},fetchConference:{default:void 0,type:Object},justButtons:{default:!1,type:Boolean}},data(){return{hoverType:""}},computed:{...d(h,["authOrgaId"]),...d(l,["playerPodcast","playerLive","playerStatus","playerVideo"]),isVideoPodcast(){return this.fetchConference?.videoProfile?.includes("video_")&&this.podcast.processingStatus==="READY_TO_RECORD"||this.podcast.video?.videoId!==void 0},playingLive(){return this.fetchConference!==void 0&&this.fetchConference.toString()!=="null"&&this.playerLive?.conferenceId===this.fetchConference.conferenceId},playingPodcast(){return this.playerPodcast?.podcastId===this.podcast.podcastId||this.playingLive},isLiveToBeRecorded(){return this.fetchConference===void 0&&this.isLiveReadyToRecord},isLiveReadyToRecord(){return this.podcast?.conferenceId!==void 0&&this.podcast.conferenceId!==0&&this.podcast.processingStatus==="READY_TO_RECORD"},isLiveValidAndVisible(){return this.podcast!==void 0&&this.podcast.valid!==!1&&this.podcast.availability.visibility!==void 0&&this.podcast.availability.visibility},classicPodcastPlay(){return this.isLiveValidAndVisible&&!this.isLiveToBeRecorded&&(this.podcast.processingStatus==="READY_TO_RECORD"||this.podcast.processingStatus==="READY"||this.podcast.processingStatus==="PROCESSING"&&this.authOrgaId===void 0)},iconName(){return this.isLiveToBeRecorded?"saooti-clock":this.podcast.processingStatus==="READY"||this.fetchConference?this.podcast.valid?!this.podcast.availability.visibility&&this.podcast.availability.date?"saooti-clock":"saooti-eye-blocked":"saooti-checkmark":this.podcast.processingStatus==="PLANNED"||this.podcast.processingStatus==="PROCESSING"?"saooti-hourglass":this.podcast.processingStatus==="CANCELED"?"saooti-cancel-circle":"saooti-warning"},textVisible(){return this.isLiveToBeRecorded?this.$t("Podcast linked to waiting live"):this.podcast.processingStatus==="READY"||this.fetchConference?this.podcast.valid?!this.podcast.availability.visibility&&this.podcast.availability.date?this.$t("Podcast publish in future"):this.$t("Podcast no visible"):this.$t("Podcast to validate"):this.podcast.processingStatus==="PLANNED"||this.podcast.processingStatus==="PROCESSING"?this.$t("Podcast in process"):this.podcast.processingStatus==="CANCELED"?this.$t("Podcast in cancelled status"):this.$t("Podcast in error")},recordingLive(){return this.fetchConference!==void 0&&this.fetchConference.conferenceId!==-1&&(this.fetchConference.status==="RECORDING"||this.fetchConference.status==="PENDING")},durationString(){return y.formatDuration(Math.round(this.podcast.duration/1e3))}},methods:{...v(l,["playerChangeStatus","playerPlay"]),play(e){if(!this.isLiveToBeRecorded){if(this.playingPodcast&&e===this.playerVideo){this.playerChangeStatus(this.playerStatus==="PLAYING");return}if(e&&f.player.isVideoPage){this.$router.push("/main/pub/video/"+this.podcast.podcastId);return}this.recordingLive?this.playerPlay({...this.podcast,conferenceId:this.fetchConference?.conferenceId},e):this.playerPlay(this.podcast,e)}}}}),C=["title"],S=["title"],R={class:"ms-2"},L=["title"],k={key:0,class:"live-image-status bg-dark"};function E(e,t,I,$,D,N){return!e.hidePlay||e.recordingLive?(s(),i("button",{key:0,class:r(["image-play-button",[e.classicPodcastPlay?"":"transparent-background",e.justButtons?"not-image":""]]),onMouseenter:t[3]||(t[3]=o=>e.hoverType="audio"),onMouseleave:t[4]||(t[4]=o=>e.hoverType=""),onClick:t[5]||(t[5]=o=>e.play(!1))},[n("div",{class:r(["multiple-play-buttons-container",[e.hoverType?"hover-type-"+e.hoverType:"",e.isVideoPodcast?"has-video":""]])},[e.isLiveToBeRecorded?(s(),i("div",{key:1,title:e.textVisible,class:r(["big-icon-error",e.iconName])},null,10,L)):(s(),i(g,{key:0},[!e.playingPodcast||e.playingPodcast&&e.playerVideo?(s(),i("div",{key:0,title:e.$t("Play"),class:"saooti-play me-1"},null,8,C)):a("",!0),e.playingPodcast?(s(),i("div",{key:1,class:r([e.playerStatus==="PLAYING"?"play-animation":"","bloc-paddle mx-1"])},t[6]||(t[6]=[n("span",{class:"paddle1"},null,-1),n("span",{class:"paddle2"},null,-1),n("span",{class:"paddle3"},null,-1)]),2)):a("",!0),e.isVideoPodcast&&!e.playerVideo?(s(),i("button",{key:2,title:e.$t("Video"),class:"btn-transparent d-flex align-items-center saooti-play-video",onMouseenter:t[0]||(t[0]=o=>e.hoverType="video"),onMouseleave:t[1]||(t[1]=o=>e.hoverType="audio"),onClick:t[2]||(t[2]=m(o=>e.play(!0),["stop"]))},null,40,S)):a("",!0),e.classicPodcastPlay?a("",!0):(s(),i("div",{key:3,class:r(["special-icon-play-button",e.iconName])},null,2)),n("div",R,c(e.durationString),1)],64))],2),e.classicPodcastPlay?a("",!0):(s(),i("div",k,c(e.textVisible),1))],34)):a("",!0)}const A=P(b,[["render",E]]);export{A as default};
