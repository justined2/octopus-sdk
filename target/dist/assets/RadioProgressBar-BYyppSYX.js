import{d as n,m as o,H as t,n as l,K as s,_ as i,o as d,c,f as p,z as r,G as u}from"./index.js";const m=n({name:"RadioProgressBar",components:{},emits:["updateNotListenTime"],data(){return{percentInterval:void 0,isBack:!1}},computed:{...o(t,["playerRadio","playerElapsed"]),isAmbiance(){return!this.playerRadio?.podcast?.podcastId},percentProgress(){return this.playerElapsed?this.playerElapsed*100:0}},mounted(){this.handlePercentInterval()},unmounted(){clearInterval(this.percentInterval)},methods:{...l(t,["playerUpdateElapsed"]),handlePercentInterval(){this.percentInterval=setInterval(()=>{this.calculatePercent()},1e3)},calculatePercent(){if(!this.playerRadio?.metadata)return;const e=s().subtract(18,"second").diff(s(this.playerRadio.metadata.startDate))/(this.playerRadio?.metadata.playDuration*1e3);this.isBack=e<this.playerElapsed,this.playerUpdateElapsed(e,this.playerRadio?.metadata.playDuration)}}});function y(a,e,h,f,v,P){return d(),c("div",{class:r(["octopus-progress c-hand-auto mt-1",a.isAmbiance?"ambiance-progress":""])},[p("div",{class:r(["octopus-progress-bar",a.isBack?"no-transition":""]),role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:u("width: "+a.percentProgress+"%")},null,6)],2)}const B=i(m,[["render",y]]);export{B as default};
