import p from"./PodcastPlayButton-DEKHY6Ml.js";import{d as u,k as h,s as o,_ as f,r as m,x as D,o as t,c as i,y as g,f as y,z as n,i as s,t as a,g as v}from"./index.js";const b=u({name:"PodcastImage",components:{PodcastPlayButton:p},mixins:[h],props:{podcast:{default:()=>({}),type:Object},hidePlay:{default:!1,type:Boolean},displayDescription:{default:!1,type:Boolean},arrowDirection:{default:"up",type:String},isAnimatorLive:{default:!1,type:Boolean},fetchConference:{default:void 0,type:Object}},emits:["hideDescription","showDescription"],data(){return{isDescription:!1}},computed:{mainRubrique(){return o.podcastPage.mainRubrique!==void 0&&o.podcastPage.mainRubrique!==0&&this.podcast?.rubriqueIds?.includes(o.podcastPage.mainRubrique)},isPodcastmaker(){return o.generalParameters.podcastmaker},isMobile(){return window.matchMedia("(hover: none)").matches},isRecordedInLive(){return this.fetchConference===void 0&&this.podcast.conferenceId!==void 0&&this.podcast.processingStatus!=="READY_TO_RECORD"},statusText(){if(!this.fetchConference)return"";switch(this.fetchConference.status){case"PLANNED":return this.$t("live in few time");case"PENDING":return this.isAnimatorLive?this.$t("Open studio"):this.$t("live upcoming");case"RECORDING":return this.$t("In live");case"DEBRIEFING":return this.podcast.processingStatus==="READY_TO_RECORD"?this.$t("Not recording"):this.$t("Debriefing");case"ERROR":return this.$t("In error");case"PUBLISHING":return this.$t("Publishing");default:return""}}},watch:{arrowDirection(){this.arrowDirection==="up"?(this.isDescription=!0,this.showDescription()):(this.isDescription=!1,this.showDescription())}},methods:{showDescription(){this.isDescription?this.$emit("hideDescription"):this.$emit("showDescription"),this.isDescription=!this.isDescription}}}),P={key:0,class:"img-box img-box-podcast mb-3 flex-column justify-content-start align-items-start position-relative flex-shrink-0 float-start"},R=["alt"],w={key:2,class:"live-image-status recording-bg"},C=["title"];function $(e,r,k,I,E,B){const c=m("PodcastPlayButton"),d=D("lazy");return e.podcast?(t(),i("div",P,[g(y("img",{width:"270",height:"270",class:"img-box img-box-podcast",alt:e.$t("Episode name image",{name:e.podcast.title})},null,8,R),[[d,e.proxyImageUrl(e.podcast.imageUrl,"270")]]),e.isPodcastmaker?(t(),i("div",{key:0,class:n(e.mainRubrique?"mainRubrique":"notMainRubrique")},null,2)):s("",!0),e.fetchConference?(t(),i("div",{key:1,class:n(["live-image-status",e.fetchConference&&e.fetchConference!=="null"&&e.fetchConference.status?e.fetchConference.status.toLowerCase()+"-bg":""])},a(e.statusText),3)):s("",!0),e.isRecordedInLive?(t(),i("div",w,a(e.$t("Recorded in live")),1)):s("",!0),v(c,{podcast:e.podcast,"hide-play":e.hidePlay,"fetch-conference":e.fetchConference},null,8,["podcast","hide-play","fetch-conference"]),e.displayDescription&&e.isMobile?(t(),i("div",{key:3,class:n(["background-icon bg-dark text-white",e.isDescription?"saooti-down":"saooti-up"]),title:e.isDescription?e.$t("Hide description"):e.$t("Show description"),onClick:r[0]||(r[0]=(...l)=>e.showDescription&&e.showDescription(...l))},null,10,C)):s("",!0)])):s("",!0)}const q=f(b,[["render",$]]);export{q as P};
